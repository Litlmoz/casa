floorplans_json = [
{"id":"21","type":"floorplans","attributes":{"layout":215003,"windows":{"window1":"","window2":"","window3":"","window4":"","window5":""},"flats":[{"id":113,"floorplan_id":21,"bed":1,"bath":1,"stack":"33","floor":"4","sqft":845,"is_active":true,"created_at":"2017-02-17T23:13:36.925Z","updated_at":"2017-02-25T01:11:41.968Z","city_view":nil}]}},{"id":"22","type":"floorplans","attributes":{"layout":215007,"windows":{"window1":2,"window2":2,"window3":"","window4":"","window5":""},"flats":[{"id":114,"floorplan_id":22,"bed":1,"bath":1,"stack":"37","floor":"7","sqft":757,"is_active":true,"created_at":"2017-02-17T23:13:36.970Z","updated_at":"2017-02-25T01:11:42.061Z","city_view":nil},{"id":116,"floorplan_id":22,"bed":1,"bath":1,"stack":"37","floor":"9","sqft":757,"is_active":true,"created_at":"2017-02-17T23:13:37.043Z","updated_at":"2017-02-25T01:11:42.107Z","city_view":nil},{"id":115,"floorplan_id":22,"bed":1,"bath":1,"stack":"37","floor":"6","sqft":757,"is_active":true,"created_at":"2017-02-17T23:13:37.001Z","updated_at":"2017-02-25T01:11:42.151Z","city_view":nil}]}},{"id":"30","type":"floorplans","attributes":{"layout":215011,"windows":{"window1":2,"window2":3,"window3":"","window4":"","window5":""},"flats":[{"id":130,"floorplan_id":30,"bed":1,"bath":1,"stack":"03","floor":"11","sqft":879,"is_active":true,"created_at":"2017-02-20T04:21:01.005Z","updated_at":"2017-02-25T01:11:42.191Z","city_view":nil}]}},{"id":"23","type":"floorplans","attributes":{"layout":215017,"windows":{"window1":"","window2":"","window3":"","window4":"","window5":""},"flats":[{"id":119,"floorplan_id":23,"bed":1,"bath":1,"stack":"26","floor":"7","sqft":789,"is_active":true,"created_at":"2017-02-17T23:13:37.142Z","updated_at":"2017-02-25T01:11:42.249Z","city_view":nil},{"id":118,"floorplan_id":23,"bed":1,"bath":1,"stack":"26","floor":"8","sqft":789,"is_active":true,"created_at":"2017-02-17T23:13:37.105Z","updated_at":"2017-02-25T01:11:42.273Z","city_view":nil},{"id":117,"floorplan_id":23,"bed":1,"bath":1,"stack":"26","floor":"3","sqft":789,"is_active":true,"created_at":"2017-02-17T23:13:37.073Z","updated_at":"2017-02-25T01:11:42.319Z","city_view":nil},{"id":120,"floorplan_id":23,"bed":1,"bath":1,"stack":"26","floor":"16","sqft":789,"is_active":true,"created_at":"2017-02-17T23:13:37.191Z","updated_at":"2017-02-25T01:11:42.342Z","city_view":nil}]}},{"id":"24","type":"floorplans","attributes":{"layout":215019,"windows":{"window1":"","window2":"","window3":"","window4":"","window5":""},"flats":[{"id":123,"floorplan_id":24,"bed":1,"bath":1,"stack":"13","floor":"8","sqft":752,"is_active":true,"created_at":"2017-02-17T23:13:37.318Z","updated_at":"2017-02-25T01:11:42.367Z","city_view":nil},{"id":124,"floorplan_id":24,"bed":1,"bath":1,"stack":"13","floor":"11","sqft":752,"is_active":true,"created_at":"2017-02-17T23:13:37.347Z","updated_at":"2017-02-25T01:11:42.391Z","city_view":nil},{"id":121,"floorplan_id":24,"bed":1,"bath":1,"stack":"13","floor":"10","sqft":752,"is_active":true,"created_at":"2017-02-17T23:13:37.223Z","updated_at":"2017-02-25T01:11:42.426Z","city_view":nil},{"id":122,"floorplan_id":24,"bed":1,"bath":1,"stack":"13","floor":"5","sqft":752,"is_active":true,"created_at":"2017-02-17T23:13:37.288Z","updated_at":"2017-02-25T01:11:42.447Z","city_view":nil}]}},{"id":"25","type":"floorplans","attributes":{"layout":215021,"windows":{"window1":2,"window2":2,"window3":"","window4":"","window5":""},"flats":[{"id":125,"floorplan_id":25,"bed":1,"bath":1,"stack":"04","floor":"10","sqft":771,"is_active":true,"created_at":"2017-02-17T23:13:37.397Z","updated_at":"2017-02-25T01:11:42.475Z","city_view":nil}]}},{"id":"26","type":"floorplans","attributes":{"layout":215027,"windows":{"window1":"","window2":"","window3":"","window4":"","window5":""},"flats":[{"id":126,"floorplan_id":26,"bed":1,"bath":1,"stack":"14","floor":"10","sqft":835,"is_active":true,"created_at":"2017-02-17T23:13:37.438Z","updated_at":"2017-02-25T01:11:42.498Z","city_view":nil}]}},{"id":"27","type":"floorplans","attributes":{"layout":215031,"windows":{"window1":2,"window2":1,"window3":1,"window4":"","window5":""},"flats":[{"id":127,"floorplan_id":27,"bed":1,"bath":1,"stack":"39","floor":"9","sqft":868,"is_active":true,"created_at":"2017-02-17T23:13:37.472Z","updated_at":"2017-02-25T01:11:42.526Z","city_view":nil}]}},{"id":"28","type":"floorplans","attributes":{"layout":215033,"windows":{"window1":"","window2":"","window3":"","window4":"","window5":""},"flats":[{"id":128,"floorplan_id":28,"bed":1,"bath":1,"stack":"38","floor":"10","sqft":734,"is_active":true,"created_at":"2017-02-17T23:13:37.522Z","updated_at":"2017-02-25T01:11:42.558Z","city_view":nil}]}},{"id":"29","type":"floorplans","attributes":{"layout":215051,"windows":{"window1":2,"window2":2,"window3":"","window4":"","window5":""},"flats":[{"id":129,"floorplan_id":29,"bed":1,"bath":1,"stack":"06","floor":"12","sqft":810,"is_active":true,"created_at":"2017-02-17T23:13:37.556Z","updated_at":"2017-02-25T01:11:42.582Z","city_view":nil}]}},{"id":"16","type":"floorplans","attributes":{"layout":215075,"windows":{"window1":3,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":37,"floorplan_id":16,"bed":0,"bath":1,"stack":"28","floor":"7","sqft":476,"is_active":false,"created_at":"2015-12-04T11:41:13.134Z","updated_at":"2017-02-17T19:27:39.828Z","city_view":nil},{"id":100,"floorplan_id":16,"bed":0,"bath":1,"stack":"29","floor":"4","sqft":476,"is_active":false,"created_at":"2017-01-14T03:40:33.999Z","updated_at":"2017-02-16T00:58:26.418Z","city_view":nil},{"id":62,"floorplan_id":16,"bed":0,"bath":1,"stack":"28","floor":"18","sqft":476,"is_active":false,"created_at":"2016-02-22T00:40:26.378Z","updated_at":"2017-02-17T19:28:57.550Z","city_view":nil},{"id":73,"floorplan_id":16,"bed":0,"bath":1,"stack":"29","floor":"21","sqft":476,"is_active":false,"created_at":"2016-03-03T10:41:01.786Z","updated_at":"2017-02-17T19:24:30.990Z","city_view":nil},{"id":98,"floorplan_id":16,"bed":0,"bath":1,"stack":"29","floor":"6","sqft":476,"is_active":false,"created_at":"2017-01-09T03:40:35.323Z","updated_at":"2017-02-16T00:58:06.890Z","city_view":nil},{"id":81,"floorplan_id":16,"bed":0,"bath":1,"stack":"28","floor":"12","sqft":476,"is_active":false,"created_at":"2016-12-05T00:50:59.695Z","updated_at":"2017-02-17T19:26:55.450Z","city_view":nil},{"id":41,"floorplan_id":16,"bed":0,"bath":1,"stack":"29","floor":"17","sqft":476,"is_active":false,"created_at":"2015-12-30T16:40:47.302Z","updated_at":"2017-02-17T19:23:11.931Z","city_view":nil},{"id":91,"floorplan_id":16,"bed":0,"bath":1,"stack":"29","floor":"10","sqft":476,"is_active":true,"created_at":"2016-12-05T03:41:05.452Z","updated_at":"2017-02-25T01:11:39.599Z","city_view":nil}]}},{"id":"17","type":"floorplans","attributes":{"layout":215075,"windows":{"window1":2,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":5,"floorplan_id":17,"bed":0,"bath":1,"stack":"27","floor":"6","sqft":476,"is_active":false,"created_at":"2015-11-01T00:29:21.592Z","updated_at":"2017-02-17T19:29:44.953Z","city_view":nil},{"id":36,"floorplan_id":17,"bed":0,"bath":1,"stack":"27","floor":"10","sqft":476,"is_active":false,"created_at":"2015-12-02T00:40:55.712Z","updated_at":"2017-02-17T19:30:25.828Z","city_view":nil},{"id":29,"floorplan_id":17,"bed":0,"bath":1,"stack":"27","floor":"8","sqft":476,"is_active":false,"created_at":"2015-11-06T11:41:01.785Z","updated_at":"2017-02-16T01:00:17.798Z","city_view":nil},{"id":25,"floorplan_id":17,"bed":0,"bath":1,"stack":"27","floor":"21","sqft":476,"is_active":false,"created_at":"2015-11-02T03:40:50.947Z","updated_at":"2017-02-19T02:20:17.980Z","city_view":nil}]}},{"id":"4","type":"floorplans","attributes":{"layout":215075,"windows":nil,"flats":[{"id":92,"floorplan_id":4,"bed":0,"bath":1,"stack":"42","floor":"3","sqft":476,"is_active":false,"created_at":"2016-12-05T20:40:52.159Z","updated_at":"2017-02-21T06:10:53.626Z","city_view":nil},{"id":45,"floorplan_id":4,"bed":0,"bath":1,"stack":"42","floor":"4","sqft":476,"is_active":false,"created_at":"2016-01-01T03:40:54.583Z","updated_at":"2017-02-21T06:11:10.443Z","city_view":nil},{"id":53,"floorplan_id":4,"bed":0,"bath":1,"stack":"40","floor":"3","sqft":476,"is_active":false,"created_at":"2016-01-26T17:40:52.499Z","updated_at":"2017-02-21T06:26:35.216Z","city_view":nil},{"id":28,"floorplan_id":4,"bed":0,"bath":1,"stack":"43","floor":"10","sqft":476,"is_active":false,"created_at":"2015-11-05T17:41:11.488Z","updated_at":"2017-02-15T21:26:15.273Z","city_view":nil},{"id":8,"floorplan_id":4,"bed":0,"bath":1,"stack":"43","floor":"7","sqft":476,"is_active":false,"created_at":"2015-11-01T00:29:21.675Z","updated_at":"2017-02-21T06:14:04.311Z","city_view":nil},{"id":95,"floorplan_id":4,"bed":0,"bath":1,"stack":"42","floor":"10","sqft":476,"is_active":false,"created_at":"2016-12-24T03:40:26.981Z","updated_at":"2017-02-15T21:27:01.700Z","city_view":nil},{"id":26,"floorplan_id":4,"bed":0,"bath":1,"stack":"41","floor":"5","sqft":476,"is_active":true,"created_at":"2015-11-03T11:41:09.610Z","updated_at":"2017-02-25T01:11:39.361Z","city_view":nil},{"id":103,"floorplan_id":4,"bed":0,"bath":1,"stack":"42","floor":"5","sqft":476,"is_active":true,"created_at":"2017-01-18T03:41:31.586Z","updated_at":"2017-02-25T01:11:39.551Z","city_view":nil},{"id":65,"floorplan_id":4,"bed":0,"bath":1,"stack":"42","floor":"9","sqft":476,"is_active":false,"created_at":"2016-02-24T10:40:57.484Z","updated_at":"2017-02-21T06:26:29.736Z","city_view":nil},{"id":75,"floorplan_id":4,"bed":0,"bath":1,"stack":"43","floor":"3","sqft":476,"is_active":false,"created_at":"2016-03-04T01:40:48.482Z","updated_at":"2017-02-21T06:13:42.969Z","city_view":nil}]}},{"id":"14","type":"floorplans","attributes":{"layout":215075,"windows":{"window1":1,"window2":1,"window3":"","window4":"","window5":""},"flats":[{"id":31,"floorplan_id":14,"bed":0,"bath":1,"stack":"28","floor":"9","sqft":476,"is_active":false,"created_at":"2015-11-19T11:41:06.157Z","updated_at":"2017-02-17T19:27:18.727Z","city_view":nil},{"id":93,"floorplan_id":14,"bed":0,"bath":1,"stack":"28","floor":"8","sqft":476,"is_active":true,"created_at":"2016-12-20T03:27:54.053Z","updated_at":"2017-02-25T01:11:39.638Z","city_view":nil}]}},{"id":"15","type":"floorplans","attributes":{"layout":215075,"windows":{"window1":2,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":6,"floorplan_id":15,"bed":0,"bath":1,"stack":"29","floor":"7","sqft":476,"is_active":false,"created_at":"2015-11-01T00:29:21.644Z","updated_at":"2017-02-17T19:21:59.149Z","city_view":nil},{"id":2,"floorplan_id":15,"bed":0,"bath":1,"stack":"29","floor":"3","sqft":476,"is_active":false,"created_at":"2015-11-01T00:29:21.512Z","updated_at":"2017-02-17T19:24:57.401Z","city_view":nil},{"id":17,"floorplan_id":15,"bed":0,"bath":1,"stack":"29","floor":"15","sqft":476,"is_active":false,"created_at":"2015-11-01T00:29:21.825Z","updated_at":"2017-02-17T19:22:19.441Z","city_view":nil},{"id":76,"floorplan_id":15,"bed":0,"bath":1,"stack":"29","floor":"18","sqft":476,"is_active":false,"created_at":"2016-03-11T02:40:16.682Z","updated_at":"2017-02-17T19:24:03.026Z","city_view":nil},{"id":18,"floorplan_id":15,"bed":0,"bath":1,"stack":"27","floor":"18","sqft":476,"is_active":true,"created_at":"2015-11-01T00:29:21.840Z","updated_at":"2017-02-25T01:11:39.281Z","city_view":nil},{"id":105,"floorplan_id":15,"bed":0,"bath":1,"stack":"27","floor":"5","sqft":476,"is_active":true,"created_at":"2017-01-26T01:40:57.236Z","updated_at":"2017-02-25T01:11:39.411Z","city_view":nil},{"id":109,"floorplan_id":15,"bed":0,"bath":1,"stack":"29","floor":"19","sqft":476,"is_active":true,"created_at":"2017-02-04T08:40:22.747Z","updated_at":"2017-02-25T01:11:39.488Z","city_view":nil},{"id":50,"floorplan_id":15,"bed":0,"bath":1,"stack":"29","floor":"5","sqft":476,"is_active":false,"created_at":"2016-01-16T03:40:22.818Z","updated_at":"2017-02-17T19:22:47.275Z","city_view":nil},{"id":54,"floorplan_id":15,"bed":0,"bath":1,"stack":"29","floor":"12","sqft":476,"is_active":false,"created_at":"2016-02-02T07:40:56.906Z","updated_at":"2017-02-17T19:23:41.557Z","city_view":nil},{"id":78,"floorplan_id":15,"bed":0,"bath":1,"stack":"27","floor":"22","sqft":476,"is_active":false,"created_at":"2016-03-14T02:40:32.777Z","updated_at":"2017-02-17T19:29:14.400Z","city_view":nil}]}},{"id":"12","type":"floorplans","attributes":{"layout":215077,"windows":nil,"flats":[{"id":33,"floorplan_id":12,"bed":0,"bath":1,"stack":"10","floor":"3","sqft":486,"is_active":false,"created_at":"2015-12-01T11:41:06.094Z","updated_at":"2017-02-21T06:37:07.269Z","city_view":nil},{"id":66,"floorplan_id":12,"bed":0,"bath":1,"stack":"02","floor":"10","sqft":486,"is_active":false,"created_at":"2016-02-24T10:40:57.525Z","updated_at":"2017-02-21T06:33:12.932Z","city_view":nil},{"id":96,"floorplan_id":12,"bed":0,"bath":1,"stack":"10","floor":"12","sqft":486,"is_active":false,"created_at":"2017-01-06T03:40:39.577Z","updated_at":"2017-02-15T21:27:03.946Z","city_view":nil},{"id":99,"floorplan_id":12,"bed":0,"bath":1,"stack":"02","floor":"9","sqft":486,"is_active":false,"created_at":"2017-01-11T03:40:36.606Z","updated_at":"2017-02-15T21:27:05.049Z","city_view":nil},{"id":57,"floorplan_id":12,"bed":0,"bath":1,"stack":"02","floor":"7","sqft":486,"is_active":false,"created_at":"2016-02-16T10:40:52.401Z","updated_at":"2017-02-21T06:08:54.302Z","city_view":nil}]}},{"id":"8","type":"floorplans","attributes":{"layout":215079,"windows":nil,"flats":[{"id":46,"floorplan_id":8,"bed":0,"bath":1,"stack":"19","floor":"10","sqft":471,"is_active":false,"created_at":"2016-01-04T11:40:49.551Z","updated_at":"2017-02-21T06:19:55.696Z","city_view":nil},{"id":83,"floorplan_id":8,"bed":0,"bath":1,"stack":"19","floor":"8","sqft":471,"is_active":false,"created_at":"2016-12-05T00:50:59.768Z","updated_at":"2017-02-20T03:20:52.618Z","city_view":nil},{"id":82,"floorplan_id":8,"bed":0,"bath":1,"stack":"16","floor":"6","sqft":471,"is_active":false,"created_at":"2016-12-05T00:50:59.747Z","updated_at":"2017-02-15T21:26:54.614Z","city_view":nil},{"id":84,"floorplan_id":8,"bed":0,"bath":1,"stack":"16","floor":"12","sqft":471,"is_active":false,"created_at":"2016-12-05T00:50:59.791Z","updated_at":"2017-02-15T21:26:54.697Z","city_view":nil},{"id":110,"floorplan_id":8,"bed":0,"bath":1,"stack":"16","floor":"5","sqft":471,"is_active":true,"created_at":"2017-02-07T03:40:32.778Z","updated_at":"2017-02-25T01:11:39.772Z","city_view":nil},{"id":68,"floorplan_id":8,"bed":0,"bath":1,"stack":"16","floor":"7","sqft":471,"is_active":false,"created_at":"2016-02-27T03:40:56.086Z","updated_at":"2017-02-21T06:22:18.173Z","city_view":nil}]}},{"id":"9","type":"floorplans","attributes":{"layout":215081,"windows":{"window1":2,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":30,"floorplan_id":9,"bed":0,"bath":1,"stack":"44","floor":"10","sqft":474,"is_active":false,"created_at":"2015-11-14T11:40:33.345Z","updated_at":"2017-02-17T19:59:37.719Z","city_view":nil},{"id":72,"floorplan_id":9,"bed":0,"bath":1,"stack":"44","floor":"9","sqft":474,"is_active":false,"created_at":"2016-03-02T03:40:10.040Z","updated_at":"2017-02-17T20:00:16.050Z","city_view":nil},{"id":85,"floorplan_id":9,"bed":0,"bath":1,"stack":"44","floor":"3","sqft":474,"is_active":true,"created_at":"2016-12-05T00:50:59.840Z","updated_at":"2017-02-25T01:11:39.818Z","city_view":nil}]}},{"id":"2","type":"floorplans","attributes":{"layout":215085,"windows":nil,"flats":[{"id":51,"floorplan_id":2,"bed":0,"bath":1,"stack":"18","floor":"9","sqft":463,"is_active":false,"created_at":"2016-01-18T03:40:31.739Z","updated_at":"2017-02-21T06:15:37.106Z","city_view":nil},{"id":4,"floorplan_id":2,"bed":0,"bath":1,"stack":"18","floor":"5","sqft":463,"is_active":false,"created_at":"2015-11-01T00:29:21.556Z","updated_at":"2017-02-15T21:26:11.812Z","city_view":nil},{"id":60,"floorplan_id":2,"bed":0,"bath":1,"stack":"18","floor":"12","sqft":463,"is_active":false,"created_at":"2016-02-17T03:40:45.028Z","updated_at":"2017-02-21T06:16:48.858Z","city_view":nil},{"id":77,"floorplan_id":2,"bed":0,"bath":1,"stack":"18","floor":"7","sqft":463,"is_active":false,"created_at":"2016-03-11T10:40:23.322Z","updated_at":"2017-02-21T06:17:13.976Z","city_view":nil},{"id":58,"floorplan_id":2,"bed":0,"bath":1,"stack":"18","floor":"4","sqft":463,"is_active":true,"created_at":"2016-02-16T10:40:52.548Z","updated_at":"2017-02-25T01:11:39.855Z","city_view":nil}]}},{"id":"5","type":"floorplans","attributes":{"layout":215089,"windows":nil,"flats":[]}},{"id":"19","type":"floorplans","attributes":{"layout":215089,"windows":{"window1":3,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":19,"floorplan_id":19,"bed":0,"bath":1,"stack":"30","floor":"18","sqft":470,"is_active":false,"created_at":"2015-11-01T00:29:21.855Z","updated_at":"2017-02-17T19:35:39.170Z","city_view":nil},{"id":24,"floorplan_id":19,"bed":0,"bath":1,"stack":"30","floor":"11","sqft":470,"is_active":false,"created_at":"2015-11-02T03:40:50.818Z","updated_at":"2017-02-17T19:36:27.657Z","city_view":nil},{"id":7,"floorplan_id":19,"bed":0,"bath":1,"stack":"30","floor":"7","sqft":470,"is_active":false,"created_at":"2015-11-01T00:29:21.659Z","updated_at":"2017-02-17T19:37:09.108Z","city_view":nil},{"id":102,"floorplan_id":19,"bed":0,"bath":1,"stack":"30","floor":"19","sqft":470,"is_active":false,"created_at":"2017-01-17T03:40:54.905Z","updated_at":"2017-02-16T01:04:11.535Z","city_view":nil},{"id":70,"floorplan_id":19,"bed":0,"bath":1,"stack":"31","floor":"8","sqft":470,"is_active":false,"created_at":"2016-02-27T03:40:56.153Z","updated_at":"2017-02-17T19:17:29.919Z","city_view":nil},{"id":13,"floorplan_id":19,"bed":0,"bath":1,"stack":"30","floor":"12","sqft":470,"is_active":false,"created_at":"2015-11-01T00:29:21.756Z","updated_at":"2017-02-16T01:04:37.273Z","city_view":nil},{"id":10,"floorplan_id":19,"bed":0,"bath":1,"stack":"31","floor":"10","sqft":470,"is_active":false,"created_at":"2015-11-01T00:29:21.708Z","updated_at":"2017-02-17T19:15:16.537Z","city_view":nil},{"id":112,"floorplan_id":19,"bed":0,"bath":1,"stack":"31","floor":"21","sqft":470,"is_active":false,"created_at":"2017-02-17T04:20:57.540Z","updated_at":"2017-02-20T23:20:23.945Z","city_view":nil},{"id":49,"floorplan_id":19,"bed":0,"bath":1,"stack":"31","floor":"9","sqft":470,"is_active":false,"created_at":"2016-01-07T03:40:55.928Z","updated_at":"2017-02-17T19:17:52.416Z","city_view":nil}]}},{"id":"18","type":"floorplans","attributes":{"layout":215089,"windows":{"window1":2,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":74,"floorplan_id":18,"bed":0,"bath":1,"stack":"30","floor":"10","sqft":470,"is_active":false,"created_at":"2016-03-03T10:41:02.195Z","updated_at":"2017-02-17T19:35:03.172Z","city_view":nil},{"id":47,"floorplan_id":18,"bed":0,"bath":1,"stack":"30","floor":"21","sqft":470,"is_active":false,"created_at":"2016-01-04T11:40:49.948Z","updated_at":"2017-02-17T19:39:17.364Z","city_view":nil},{"id":35,"floorplan_id":18,"bed":0,"bath":1,"stack":"30","floor":"14","sqft":470,"is_active":false,"created_at":"2015-12-01T11:41:07.236Z","updated_at":"2017-02-16T01:03:08.240Z","city_view":nil},{"id":42,"floorplan_id":18,"bed":0,"bath":1,"stack":"30","floor":"17","sqft":470,"is_active":false,"created_at":"2015-12-30T16:40:47.383Z","updated_at":"2017-02-16T01:03:26.123Z","city_view":nil},{"id":69,"floorplan_id":18,"bed":0,"bath":1,"stack":"30","floor":"8","sqft":470,"is_active":false,"created_at":"2016-02-27T03:40:56.138Z","updated_at":"2017-02-17T19:40:06.209Z","city_view":nil}]}},{"id":"20","type":"floorplans","attributes":{"layout":215089,"windows":{"window1":1,"window2":1,"window3":"","window4":"","window5":""},"flats":[{"id":80,"floorplan_id":20,"bed":0,"bath":1,"stack":"31","floor":"19","sqft":470,"is_active":false,"created_at":"2016-03-16T09:40:57.517Z","updated_at":"2017-02-18T03:20:21.158Z","city_view":nil},{"id":108,"floorplan_id":20,"bed":0,"bath":1,"stack":"31","floor":"20","sqft":470,"is_active":false,"created_at":"2017-02-01T03:40:58.820Z","updated_at":"2017-02-16T01:05:41.359Z","city_view":nil},{"id":14,"floorplan_id":20,"bed":0,"bath":1,"stack":"31","floor":"12","sqft":470,"is_active":false,"created_at":"2015-11-01T00:29:21.771Z","updated_at":"2017-02-17T19:16:08.451Z","city_view":nil},{"id":48,"floorplan_id":20,"bed":0,"bath":1,"stack":"31","floor":"7","sqft":470,"is_active":false,"created_at":"2016-01-04T20:40:24.551Z","updated_at":"2017-02-17T19:16:27.322Z","city_view":nil},{"id":23,"floorplan_id":20,"bed":0,"bath":1,"stack":"31","floor":"23","sqft":470,"is_active":false,"created_at":"2015-11-01T00:29:21.917Z","updated_at":"2017-02-16T01:05:58.795Z","city_view":nil},{"id":39,"floorplan_id":20,"bed":0,"bath":1,"stack":"31","floor":"22","sqft":470,"is_active":true,"created_at":"2015-12-22T11:40:40.620Z","updated_at":"2017-02-25T01:11:39.879Z","city_view":nil}]}},{"id":"1","type":"floorplans","attributes":{"layout":215091,"windows":{"window1":1,"window2":1,"window3":"","window4":"","window5":""},"flats":[{"id":12,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"12","sqft":604,"is_active":true,"created_at":"2015-11-01T00:29:21.740Z","updated_at":"2017-02-25T01:11:39.964Z","city_view":nil},{"id":15,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"14","sqft":604,"is_active":false,"created_at":"2015-11-01T00:29:21.790Z","updated_at":"2017-02-17T19:56:07.685Z","city_view":nil},{"id":21,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"23","sqft":604,"is_active":true,"created_at":"2015-11-01T00:29:21.886Z","updated_at":"2017-02-25T01:11:40.005Z","city_view":nil},{"id":97,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"19","sqft":604,"is_active":false,"created_at":"2017-01-06T03:40:39.676Z","updated_at":"2017-02-15T21:27:03.971Z","city_view":nil},{"id":11,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"11","sqft":604,"is_active":false,"created_at":"2015-11-01T00:29:21.724Z","updated_at":"2017-02-15T21:26:12.158Z","city_view":nil},{"id":9,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"10","sqft":604,"is_active":false,"created_at":"2015-11-01T00:29:21.690Z","updated_at":"2017-02-15T21:26:12.084Z","city_view":nil},{"id":43,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"21","sqft":604,"is_active":false,"created_at":"2015-12-30T16:40:47.446Z","updated_at":"2017-02-17T19:56:33.098Z","city_view":nil},{"id":111,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"16","sqft":604,"is_active":false,"created_at":"2017-02-07T03:40:32.895Z","updated_at":"2017-02-16T03:20:51.240Z","city_view":nil},{"id":79,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"2","sqft":514,"is_active":false,"created_at":"2016-03-14T19:41:00.601Z","updated_at":"2017-02-17T19:56:52.550Z","city_view":nil},{"id":3,"floorplan_id":1,"bed":0,"bath":1,"stack":"23","floor":"4","sqft":604,"is_active":true,"created_at":"2015-11-01T00:29:21.540Z","updated_at":"2017-02-25T01:11:39.937Z","city_view":nil}]}},{"id":"3","type":"floorplans","attributes":{"layout":215093,"windows":{"window1":3,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":20,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"19","sqft":583,"is_active":false,"created_at":"2015-11-01T00:29:21.869Z","updated_at":"2017-02-17T19:53:37.130Z","city_view":nil},{"id":22,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"23","sqft":583,"is_active":false,"created_at":"2015-11-01T00:29:21.902Z","updated_at":"2017-02-17T19:53:56.770Z","city_view":nil},{"id":34,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"6","sqft":583,"is_active":true,"created_at":"2015-12-01T11:41:06.622Z","updated_at":"2017-02-25T01:11:40.041Z","city_view":nil},{"id":107,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"20","sqft":583,"is_active":true,"created_at":"2017-01-31T03:40:34.379Z","updated_at":"2017-02-25T01:11:40.064Z","city_view":nil},{"id":87,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"5","sqft":583,"is_active":true,"created_at":"2016-12-05T00:51:00.049Z","updated_at":"2017-02-25T01:11:40.115Z","city_view":nil},{"id":32,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"10","sqft":583,"is_active":false,"created_at":"2015-11-25T11:41:10.766Z","updated_at":"2017-02-17T19:54:39.564Z","city_view":nil},{"id":16,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"15","sqft":583,"is_active":false,"created_at":"2015-11-01T00:29:21.810Z","updated_at":"2017-02-15T21:26:12.449Z","city_view":nil},{"id":88,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"9","sqft":583,"is_active":false,"created_at":"2016-12-05T00:51:00.075Z","updated_at":"2017-02-15T21:26:55.174Z","city_view":nil},{"id":86,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"7","sqft":583,"is_active":false,"created_at":"2016-12-05T00:51:00.027Z","updated_at":"2017-02-15T21:26:55.042Z","city_view":nil},{"id":59,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"4","sqft":583,"is_active":false,"created_at":"2016-02-16T10:40:52.706Z","updated_at":"2017-02-17T19:54:17.870Z","city_view":nil},{"id":55,"floorplan_id":3,"bed":0,"bath":1,"stack":"24","floor":"14","sqft":583,"is_active":false,"created_at":"2016-02-02T10:41:06.866Z","updated_at":"2017-02-17T19:55:02.688Z","city_view":nil}]}},{"id":"10","type":"floorplans","attributes":{"layout":215095,"windows":{"window1":2,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":1,"floorplan_id":10,"bed":0,"bath":1,"stack":"21","floor":"3","sqft":492,"is_active":false,"created_at":"2015-11-01T00:29:21.456Z","updated_at":"2017-02-21T06:18:42.968Z","city_view":nil},{"id":89,"floorplan_id":10,"bed":0,"bath":1,"stack":"21","floor":"8","sqft":492,"is_active":false,"created_at":"2016-12-05T00:51:00.093Z","updated_at":"2017-02-15T21:26:55.239Z","city_view":nil}]}},{"id":"11","type":"floorplans","attributes":{"layout":215097,"windows":{"window1":4,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":27,"floorplan_id":11,"bed":0,"bath":1,"stack":"12","floor":"25","sqft":687,"is_active":false,"created_at":"2015-11-05T11:40:41.873Z","updated_at":"2017-02-21T06:35:15.216Z","city_view":nil},{"id":90,"floorplan_id":11,"bed":0,"bath":1,"stack":"12","floor":"15","sqft":687,"is_active":false,"created_at":"2016-12-05T00:51:00.114Z","updated_at":"2017-02-15T21:26:55.293Z","city_view":nil},{"id":104,"floorplan_id":11,"bed":0,"bath":1,"stack":"12","floor":"19","sqft":687,"is_active":false,"created_at":"2017-01-20T03:40:53.184Z","updated_at":"2017-02-15T21:27:06.883Z","city_view":nil}]}},{"id":"7","type":"floorplans","attributes":{"layout":215099,"windows":{"window1":2,"window2":"","window3":"","window4":"","window5":""},"flats":[{"id":67,"floorplan_id":7,"bed":0,"bath":1,"stack":"05","floor":"10","sqft":906,"is_active":false,"created_at":"2016-02-24T10:40:57.840Z","updated_at":"2017-02-21T06:29:32.564Z","city_view":nil},{"id":52,"floorplan_id":7,"bed":0,"bath":1,"stack":"05","floor":"9","sqft":906,"is_active":false,"created_at":"2016-01-19T11:40:39.996Z","updated_at":"2017-02-21T06:28:43.012Z","city_view":nil},{"id":64,"floorplan_id":7,"bed":0,"bath":1,"stack":"05","floor":"7","sqft":906,"is_active":false,"created_at":"2016-02-23T03:40:52.747Z","updated_at":"2017-02-21T06:29:06.724Z","city_view":nil},{"id":56,"floorplan_id":7,"bed":0,"bath":1,"stack":"05","floor":"6","sqft":906,"is_active":false,"created_at":"2016-02-02T10:41:06.901Z","updated_at":"2017-02-15T21:26:41.895Z","city_view":nil}]}},{"id":"6","type":"floorplans","attributes":{"layout":215103,"windows":{"window1":2,"window2":1,"window3":"","window4":"","window5":""},"flats":[{"id":106,"floorplan_id":6,"bed":0,"bath":1,"stack":"11","floor":"14","sqft":754,"is_active":true,"created_at":"2017-01-28T03:40:44.853Z","updated_at":"2017-02-25T01:11:40.182Z","city_view":nil},{"id":44,"floorplan_id":6,"bed":0,"bath":1,"stack":"11","floor":"12","sqft":754,"is_active":true,"created_at":"2015-12-30T16:40:47.579Z","updated_at":"2017-02-25T01:11:40.225Z","city_view":nil},{"id":94,"floorplan_id":6,"bed":0,"bath":1,"stack":"11","floor":"11","sqft":754,"is_active":false,"created_at":"2016-12-20T03:27:54.213Z","updated_at":"2017-02-15T21:27:00.876Z","city_view":nil},{"id":38,"floorplan_id":6,"bed":0,"bath":1,"stack":"11","floor":"8","sqft":754,"is_active":true,"created_at":"2015-12-16T21:40:25.720Z","updated_at":"2017-02-25T01:11:40.154Z","city_view":nil}]}},{"id":"13","type":"floorplans","attributes":{"layout":263084,"windows":nil,"flats":[{"id":61,"floorplan_id":13,"bed":0,"bath":1,"stack":"08","floor":"9","sqft":486,"is_active":false,"created_at":"2016-02-18T10:41:04.490Z","updated_at":"2017-02-21T06:30:40.216Z","city_view":nil},{"id":101,"floorplan_id":13,"bed":0,"bath":1,"stack":"08","floor":"12","sqft":0,"is_active":true,"created_at":"2017-01-14T03:40:34.144Z","updated_at":"2017-02-25T01:11:40.255Z","city_view":nil}]}}
]

floorplans_json.each do |hash|
  floorplan = Floorplan.create!(layout_id: hash[:attributes][:layout], windows: hash[:attributes][:windows])

  hash[:attributes][:flats].each do |f|
    flat = Flat.find_by(bed: f[:bed], stack: f[:stack])
    flat.floorplan = floorplan
    flat.save
  end
end
